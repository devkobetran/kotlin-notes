"use strict";(self.webpackChunkelasticstack_notes=self.webpackChunkelasticstack_notes||[]).push([[895],{7087:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>o,contentTitle:()=>r,default:()=>d,frontMatter:()=>s,metadata:()=>a,toc:()=>c});var l=i(4848),t=i(8453);const s={sidebar_position:4},r="Sequences, Lambdas with Receiver, Types",a={id:"tutorial/sequences-lambdas-with-receivers-types",title:"Sequences, Lambdas with Receiver, Types",description:"Library Functions",source:"@site/docs/tutorial/sequences-lambdas-with-receivers-types.md",sourceDirName:"tutorial",slug:"/tutorial/sequences-lambdas-with-receivers-types",permalink:"/kotlin-notes/docs/tutorial/sequences-lambdas-with-receivers-types",draft:!1,unlisted:!1,editUrl:"https://github.com/devkobetran/kotlin-notes/docs/tutorial/sequences-lambdas-with-receivers-types.md",tags:[],version:"current",sidebarPosition:4,frontMatter:{sidebar_position:4},sidebar:"tutorialSidebar",previous:{title:"Properties, OOP, Conventions",permalink:"/kotlin-notes/docs/tutorial/properties-oop-conventions"}},o={},c=[{value:"Library Functions",id:"library-functions",level:2},{value:"Under the Hood",id:"under-the-hood",level:3},{value:"Useful library functions",id:"useful-library-functions",level:3},{value:"run function",id:"run-function",level:4},{value:"let function",id:"let-function",level:4},{value:"What is the type of it in the code below?",id:"what-is-the-type-of-it-in-the-code-below",level:4},{value:"Another Example of let",id:"another-example-of-let",level:4},{value:"takeIf function",id:"takeif-function",level:4},{value:"What is the result of takeIf call below?",id:"what-is-the-result-of-takeif-call-below",level:4},{value:"takeUnless function",id:"takeunless-function",level:4},{value:"repeat function",id:"repeat-function",level:4},{value:"The power of inline",id:"the-power-of-inline",level:2},{value:"inline function",id:"inline-function",level:3},{value:"Inling of run",id:"inling-of-run",level:3},{value:"Will the filter function be inlined in the bytecode if you call it from Java?",id:"will-the-filter-function-be-inlined-in-the-bytecode-if-you-call-it-from-java",level:4},{value:"@InlineOnly",id:"inlineonly",level:3},{value:"Kotlin Playground Exercise",id:"kotlin-playground-exercise",level:2},{value:"Collections vs Sequences",id:"collections-vs-sequences",level:2},{value:"How many collections are created while running the code below?",id:"how-many-collections-are-created-while-running-the-code-below",level:4},{value:"Operations on Collections",id:"operations-on-collections",level:3},{value:"Sequences",id:"sequences",level:3},{value:"From List to Sequence",id:"from-list-to-sequence",level:3},{value:"More on Sequences",id:"more-on-sequences",level:2},{value:"Collections vs Sequences",id:"collections-vs-sequences-1",level:3},{value:"Write the output after the evaluation of the last expression below",id:"write-the-output-after-the-evaluation-of-the-last-expression-below",level:4},{value:"Nothing happens until the terminal operation is called",id:"nothing-happens-until-the-terminal-operation-is-called",level:4},{value:"Write the output after the evaluation of the last expression below",id:"write-the-output-after-the-evaluation-of-the-last-expression-below-1",level:4},{value:"Creating Sequences",id:"creating-sequences",level:3},{value:"Generating a sequence",id:"generating-a-sequence",level:3},{value:"Reading Input",id:"reading-input",level:3},{value:"Generating an infinite sequence",id:"generating-an-infinite-sequence",level:3},{value:"How many times the phrase &quot;Generating element...&quot; will be printed?",id:"how-many-times-the-phrase-generating-element-will-be-printed",level:4},{value:"yield",id:"yield",level:3},{value:"How many times the phrases starting with yield will be printed?",id:"how-many-times-the-phrases-starting-with-yield-will-be-printed",level:4},{value:"Library Functions",id:"library-functions-1",level:3},{value:"Write the name of the function that may replace the following call chain",id:"write-the-name-of-the-function-that-may-replace-the-following-call-chain",level:4},{value:"Write the name of the function that may replace the following call chain",id:"write-the-name-of-the-function-that-may-replace-the-following-call-chain-1",level:4},{value:"Write the name of the function that may replace the following call chain",id:"write-the-name-of-the-function-that-may-replace-the-following-call-chain-2",level:4},{value:"mapNotNull",id:"mapnotnull",level:3},{value:"Write the name of the function that may help to simplify the following code",id:"write-the-name-of-the-function-that-may-help-to-simplify-the-following-code",level:4},{value:"Write the name of the function that may help to simplify the following code",id:"write-the-name-of-the-function-that-may-help-to-simplify-the-following-code-1",level:4},{value:"Write the name of the function that performs groupBy for Sequences in a lazy way.",id:"write-the-name-of-the-function-that-performs-groupby-for-sequences-in-a-lazy-way",level:4},{value:"Kotlin Playground: Fibonacci sequence",id:"kotlin-playground-fibonacci-sequence",level:4},{value:"Lambda with Receiver",id:"lambda-with-receiver",level:2},{value:"The <code>with</code> function",id:"the-with-function",level:3},{value:"What is the type of this?",id:"what-is-the-type-of-this",level:4},{value:"Complete buildString definition",id:"complete-buildstring-definition",level:4},{value:"More useful library functions",id:"more-useful-library-functions",level:3},{value:"Find the implementation of the following function:",id:"find-the-implementation-of-the-following-function",level:4},{value:"Types",id:"types",level:2},{value:"What will be printed?",id:"what-will-be-printed",level:4},{value:"Prefer Lists",id:"prefer-lists",level:3},{value:"Kotlin type hierarchy",id:"kotlin-type-hierarchy",level:3},{value:"Unit instead of void",id:"unit-instead-of-void",level:3},{value:"Nothing",id:"nothing",level:3},{value:"Which of the following expressions have Nothing type?",id:"which-of-the-following-expressions-have-nothing-type",level:4},{value:"Write the simplest expression of Nothing? type",id:"write-the-simplest-expression-of-nothing-type",level:4},{value:"Nullable Types",id:"nullable-types",level:3},{value:"What happens while running the code below?",id:"what-happens-while-running-the-code-below",level:4},{value:"What happens while running the code below?",id:"what-happens-while-running-the-code-below-1",level:4},{value:"What happens while running the code below?",id:"what-happens-while-running-the-code-below-2",level:4},{value:"What happens while running the code below?",id:"what-happens-while-running-the-code-below-3",level:4},{value:"Collection Types",id:"collection-types",level:3},{value:"What happens when running the following code?",id:"what-happens-when-running-the-following-code",level:4}];function h(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,t.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.header,{children:(0,l.jsx)(n.h1,{id:"sequences-lambdas-with-receiver-types",children:"Sequences, Lambdas with Receiver, Types"})}),"\n",(0,l.jsx)(n.h2,{id:"library-functions",children:"Library Functions"}),"\n",(0,l.jsx)(n.h3,{id:"under-the-hood",children:"Under the Hood"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Lambdas can be inlined"}),"\n",(0,l.jsx)(n.li,{children:"No performance overhead"}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"useful-library-functions",children:"Useful library functions"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"run"}),"\n",(0,l.jsx)(n.li,{children:"let"}),"\n",(0,l.jsx)(n.li,{children:"takeIf"}),"\n",(0,l.jsx)(n.li,{children:"takeUnless"}),"\n",(0,l.jsx)(n.li,{children:"repeat"}),"\n"]}),"\n",(0,l.jsx)(n.h4,{id:"run-function",children:"run function"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"runs the block of code (lambda) and returns the last expression as the result"}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-ts",children:'val foo = run {\n    println("calculating foo...")\n    "foo"\n}\n\n'})}),"\n",(0,l.jsx)(n.h4,{id:"let-function",children:"let function"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"allows to check the argument for being non-null, not only the receiver"}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-ts",children:"fun getEmail(): Email?\n\nval email = getEmail()\nif(email != null) sendEmailTo(email)\n\nemail?.let { e -> sendEmailTo(e) }\n\n// let can be used to introduce a new variable\ngetEmail()?.let { sendEmailTo(it) }\n"})}),"\n",(0,l.jsx)(n.h4,{id:"what-is-the-type-of-it-in-the-code-below",children:"What is the type of it in the code below?"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-ts",children:"fun sendEmailTo(email: Email) { /*...*/ }\nfun getEmail(): Email?\n\ngetEmail().let { sendEmailTo(it) }\n"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Answer: nullable Email ",(0,l.jsx)(n.code,{children:"Email?"})]}),"\n",(0,l.jsx)(n.li,{children:"Thus, above is incorrect."}),"\n",(0,l.jsx)(n.li,{children:"Use this instead:"}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-ts",children:"getEmail()?.let { sendEmailTo(it) }\n"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Thus, type of it is now ",(0,l.jsx)(n.code,{children:"Email"})]}),"\n"]}),"\n",(0,l.jsx)(n.h4,{id:"another-example-of-let",children:"Another Example of let"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-ts",children:"interface Session {\n    val user: User\n}\n\nfun analyzeUserSession(session: Session){\n    val user = session.user\n    if(user is FacebookUser){\n        println(user.accountId)\n    }\n}\n\n// can be rewritten to\nfun analyzeUserSession(session: Session){\n    (session.user as? FacebookUser)?.let {\n        println(it.accountId)\n    }\n}\n"})}),"\n",(0,l.jsx)(n.h4,{id:"takeif-function",children:"takeIf function"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["returns the receiver object if it satisfies the given predicate, otherwise returns ",(0,l.jsx)(n.code,{children:"null"})]}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-ts",children:"issue.takeIf { it.status == FIXED }\nperson.patronymicName.takeIf(String::isNotEmpty)\n"})}),"\n",(0,l.jsx)(n.h4,{id:"what-is-the-result-of-takeif-call-below",children:"What is the result of takeIf call below?"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-ts",children:"val number = 42\nnumber.takeIf { it > 10 }\n"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Answer: ",(0,l.jsx)(n.code,{children:"42"})]}),"\n"]}),"\n",(0,l.jsx)(n.h4,{id:"takeunless-function",children:"takeUnless function"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"returns the receiver object if it does not satisfy the given predicate, otherwise returns null"}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-ts",children:"person.patronymicName.takenUnless(String?::isNullOrEmpty)\n"})}),"\n",(0,l.jsx)(n.h4,{id:"repeat-function",children:"repeat function"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"repeats an action for a given number of times"}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-ts",children:'repeat(10) {\n    println("Welcome!")\n}\n'})}),"\n",(0,l.jsx)(n.h2,{id:"the-power-of-inline",children:"The power of inline"}),"\n",(0,l.jsx)(n.h3,{id:"inline-function",children:"inline function"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"compiler substitutes a body of the function instead of calling it"}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"inling-of-run",children:"Inling of run"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-ts",children:'inline fun <R> run(block: () -> R): R = block()\n\nval name = "Kotlin"\nrun { println("Hi, $name!") }\n'})}),"\n",(0,l.jsx)(n.h4,{id:"will-the-filter-function-be-inlined-in-the-bytecode-if-you-call-it-from-java",children:"Will the filter function be inlined in the bytecode if you call it from Java?"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-ts",children:"public static void foo(List<Integer> list) {\n  List<Integer> positive =\n    CollectionsKt.filter(list, element -> element > 0);\n}\n"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Answer: No"}),"\n",(0,l.jsx)(n.li,{children:"Inlining is the feature of the coding compiler."}),"\n",(0,l.jsx)(n.li,{children:"Whenever the compiler sees that the inline function is called, it will generate the body of the function instead of one call"}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"inlineonly",children:"@InlineOnly"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Specifies that this function should not be called directly without inlining"}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"kotlin-playground-exercise",children:"Kotlin Playground Exercise"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Write the code that the Kotlin compiler will generate while inlining the filter function (instead of calling it). Note that the compiler generates Java bytecode, but for simplicity, write the similar code in Kotlin. The simplified declaration of 'filter' is given below."}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-ts",children:'fun filterNonZero(list: List<Int>) = list.filter { it != 0 }\n\nfun filterNonZeroGenerated(list: List<Int>): List<Int> {\n    val destination = ArrayList<Int>()\n    for(element in list){\n        if(element != 0){\n            destination.add(element)\n        }\n    }\n    return destination\n}\n\nfun main(args: Array<String>) {\n    val list = listOf(1, 2, 3)\n\n    filterNonZero(list).toString() eq "[1, 2, 3]"\n    filterNonZeroGenerated(list).toString() eq "[1, 2, 3]"\n}\n\ninline fun <T> Iterable<T>.filter(predicate: (T) -> Boolean): List<T> {\n    val destination = ArrayList<T>()\n    for (element in this) {\n        if (predicate(element)) {\n            destination.add(element)\n        }\n    }\n    return destination\n}\n\n'})}),"\n",(0,l.jsx)(n.h2,{id:"collections-vs-sequences",children:"Collections vs Sequences"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Extensions on collections are inlined"}),"\n"]}),"\n",(0,l.jsx)(n.h4,{id:"how-many-collections-are-created-while-running-the-code-below",children:"How many collections are created while running the code below?"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-ts",children:"val list = listOf(1, 2, -3)\nval maxOddSquare = list\n    .map { it * it }\n    .filter { it % 2 == 1 }\n    .max()\n"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Answer: 3","\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"list creates one"}),"\n",(0,l.jsx)(n.li,{children:"map creates one"}),"\n",(0,l.jsx)(n.li,{children:"filter creates one"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"operations-on-collections",children:"Operations on Collections"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"lambdas are inlined (no performance overhead)"}),"\n",(0,l.jsx)(n.li,{children:"However, intermediate collections are created for chained calls"}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"sequences",children:"Sequences"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Collections (eager) vs Sequences (Lazy)"}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"from-list-to-sequence",children:"From List to Sequence"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-ts",children:"val list = listOf(1, 2, 3)\n\nval seq = list.asSequence()\n"})}),"\n",(0,l.jsx)(n.h2,{id:"more-on-sequences",children:"More on Sequences"}),"\n",(0,l.jsx)(n.h3,{id:"collections-vs-sequences-1",children:"Collections vs Sequences"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Collections (Horizontal Evaluation), for each step of the transformation the whole list is transformed until we reach the final step to get the result. This is more eager.","\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"In other words, intermediate collections are created on chained calls"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["Sequences (Vertical Evaluation), go from one index, transform that one index, down to the final step to get result. This is more lazy.","\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"In other words, lambdas are not inlined."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.h4,{id:"write-the-output-after-the-evaluation-of-the-last-expression-below",children:"Write the output after the evaluation of the last expression below"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-ts",children:'fun m(i: Int): Int {\n  print("m$i ")\n  return i\n}\n\nfun f(i: Int): Boolean {\n  print("f$i ")\n  return i % 2 == 0\n}\n\nval list = listOf(1, 2, 3, 4)\nlist.map(::m).filter(::f)  //m1 m2 m3 m4 f1 f2 f3 f4\nlist.asSequence().map(::m).filter(::f).toList() //?\n'})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Answer: ",(0,l.jsx)(n.code,{children:"m1 f1 m2 f2 m3 f3 m4 f4"})]}),"\n"]}),"\n",(0,l.jsx)(n.h4,{id:"nothing-happens-until-the-terminal-operation-is-called",children:"Nothing happens until the terminal operation is called"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Above, ",(0,l.jsx)(n.code,{children:"toList()"})," in ",(0,l.jsx)(n.code,{children:"list.asSequence().map(::m).filter(::f).toList()"})," is the terminal operation."]}),"\n",(0,l.jsxs)(n.li,{children:["Without ",(0,l.jsx)(n.code,{children:"toList()"}),", then ",(0,l.jsx)(n.code,{children:"list.asSequence().map(::m).filter(::f)"})," will return nothing."]}),"\n"]}),"\n",(0,l.jsx)(n.h4,{id:"write-the-output-after-the-evaluation-of-the-last-expression-below-1",children:"Write the output after the evaluation of the last expression below"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-ts",children:'fun m(i: Int): Int {\n  print("m$i ")\n  return i\n}\n\nfun f(i: Int): Boolean {\n  print("f$i ")\n  return i % 2 == 0\n}\n\nval list = listOf(1, 2, 3, 4)\nlist.asSequence().map(::m).filter(::f).toList()\n//m1 f1 m2 f2 m3 f3 m4 f4\nlist.asSequence().filter(::f).map(::m).toList() //?\n'})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Answer: ",(0,l.jsx)(n.code,{children:"f1 f2 m2 f3 f4 m4"})]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"creating-sequences",children:"Creating Sequences"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-ts",children:"interface Sequence<out T> {\n    operator fun iterator(): Iterator<T>\n}\n"})}),"\n",(0,l.jsx)(n.h3,{id:"generating-a-sequence",children:"Generating a sequence"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-ts",children:"generateSequence { Random.nextInt() }\n\nval seq = generateSequence {\n    Random.nextInt(5).takeIf { it > 0 }\n}\nprintln(seq.toList())\n"})}),"\n",(0,l.jsx)(n.h3,{id:"reading-input",children:"Reading Input"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-ts",children:'val input = generateSequence {\n    readLine().takeIf { it != "exit" }\n}\nprintln(input.toList())\n'})}),"\n",(0,l.jsx)(n.h3,{id:"generating-an-infinite-sequence",children:"Generating an infinite sequence"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-ts",children:"val numbers = generateSequence(0) { it + 1}\nnumbers.take(5).toList()\n\n// to prevent integer overflow:\nval numbers = generateSequence(BigInteger.ZERO) {\n    it + BigInteger.ONE\n}\n"})}),"\n",(0,l.jsx)(n.h4,{id:"how-many-times-the-phrase-generating-element-will-be-printed",children:'How many times the phrase "Generating element..." will be printed?'}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-ts",children:'val numbers = generateSequence(3) { n ->\n  println("Generating element...")\n  (n + 1).takeIf { it < 7 }\n}\nprintln(numbers.first())\n'})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Answer: 0","\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"We only ask for the first element"}),"\n",(0,l.jsx)(n.li,{children:"the first element of 3 is already given"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["If you called ",(0,l.jsx)(n.code,{children:"println(numbers.toList())"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"then the answer is 4."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"yield",children:"yield"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Can generate elements in any convenient order"}),"\n",(0,l.jsx)(n.li,{children:"Yield works lazily"}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"yieldAll(list)"})," is an option"]}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-ts",children:"val numbers = sequence {\n    var x = 0\n    while(true) {\n        yield(x++)\n    }\n}\nnumbers.take(5).toList() // [0, 1, 2, 3, 4]\n"})}),"\n",(0,l.jsx)(n.h4,{id:"how-many-times-the-phrases-starting-with-yield-will-be-printed",children:"How many times the phrases starting with yield will be printed?"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-ts",children:'fun mySequence() = buildSequence {\n  println("yield one element")\n  yield(1)\n  println("yield a range")\n  yieldAll(3..5)\n  println("yield a list")\n  yieldAll(listOf(7, 9))\n}\n\nprintln(mySequence()\n  .map { it * it }\n  .filter { it > 10 }\n  .take(1))\n'})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Answer: 0","\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["No elements are yielded until the terminal operation (",(0,l.jsx)(n.code,{children:"mySequence()"}),") is called"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"library-functions-1",children:"Library Functions"}),"\n",(0,l.jsx)(n.h4,{id:"write-the-name-of-the-function-that-may-replace-the-following-call-chain",children:"Write the name of the function that may replace the following call chain"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-ts",children:"people.filter { it.age < 21 }.size\n"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Answer: ",(0,l.jsx)(n.code,{children:"count"})]}),"\n"]}),"\n",(0,l.jsx)(n.h4,{id:"write-the-name-of-the-function-that-may-replace-the-following-call-chain-1",children:"Write the name of the function that may replace the following call chain"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-ts",children:"people.sortedBy { it.age }.reversed()\n"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Answer: ",(0,l.jsx)(n.code,{children:"sortedByDescending"})]}),"\n"]}),"\n",(0,l.jsx)(n.h4,{id:"write-the-name-of-the-function-that-may-replace-the-following-call-chain-2",children:"Write the name of the function that may replace the following call chain"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-ts",children:"people\n  .map { person ->\n    person.takeIf { it.isPublicProfile }?.name\n  }\n  .filterNotNull()\n"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Answer: ",(0,l.jsx)(n.code,{children:"mapNotNull"})]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"mapnotnull",children:"mapNotNull"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-ts",children:"people.mapNotNull { it?.name }\n"})}),"\n",(0,l.jsx)(n.h4,{id:"write-the-name-of-the-function-that-may-help-to-simplify-the-following-code",children:"Write the name of the function that may help to simplify the following code"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-ts",children:"if (person.age! in map) {\n  map[person.age] = mutableListOf();\n}\nval group = map.getValue(person.age)\ngroup += person;\n"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Answer: ",(0,l.jsx)(n.code,{children:"getOrPut"})]}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-ts",children:"val group = map.getOrPut(person.age) { mutableListOf() }\ngroup += person\n"})}),"\n",(0,l.jsx)(n.h4,{id:"write-the-name-of-the-function-that-may-help-to-simplify-the-following-code-1",children:"Write the name of the function that may help to simplify the following code"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-ts",children:"val map = mutableMapOf<Int, MutableList<Person>>()\nfor (person in people) {\n  if (person.age !in map) {\n    map[person.age] = mutableListOf()\n  }\n  map.getValue(person.age) += person\n}\n"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Answer: ",(0,l.jsx)(n.code,{children:"groupBy"})]}),"\n"]}),"\n",(0,l.jsx)(n.h4,{id:"write-the-name-of-the-function-that-performs-groupby-for-sequences-in-a-lazy-way",children:"Write the name of the function that performs groupBy for Sequences in a lazy way."}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Answer: ",(0,l.jsx)(n.code,{children:"groupingBy"})]}),"\n"]}),"\n",(0,l.jsx)(n.h4,{id:"kotlin-playground-fibonacci-sequence",children:"Kotlin Playground: Fibonacci sequence"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Implement the function that builds a sequence of Fibonacci numbers using 'sequence' function. Use 'yield'."}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-ts",children:'fun fibonacci(): Sequence<Int> = sequence {\n    var a = 0\n    var b = 1\n\n    yield(a) // Yield the first Fibonacci number\n    yield(b) // Yield the second Fibonacci number\n\n    while (true) {\n        val next = a + b\n        yield(next) // Yield the next Fibonacci number\n        a = b\n        b = next\n    }\n}\n\nfun main(args: Array<String>) {\n    println(fibonacci().take(4).toList().toString() == "[0, 1, 1, 2]") // should print true\n    println(fibonacci().take(10).toList().toString() == "[0, 1, 1, 2, 3, 5, 8, 13, 21, 34]") // should print true\n}\n\n'})}),"\n",(0,l.jsx)(n.h2,{id:"lambda-with-receiver",children:"Lambda with Receiver"}),"\n",(0,l.jsxs)(n.h3,{id:"the-with-function",children:["The ",(0,l.jsx)(n.code,{children:"with"})," function"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-ts",children:"val sb = StringBuilder()\nsb.appendln(\"Alphabet: \")\nfor(c in 'a'..'z'){\n    sb.append(c)\n}\nsb.toString()\n"})}),"\n",(0,l.jsx)(n.p,{children:"can be more efficient and rewritten as"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-ts",children:"val sb = StringBuilder()\nwith (sb) {\n    appendln(\"Alphabet: \")\n    for(c in 'a'..'z'){\n        append(c)\n    }\n    toString()\n}\n"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["It is a lambda with an implicit ",(0,l.jsx)(n.code,{children:"this"})]}),"\n"]}),"\n",(0,l.jsx)(n.h4,{id:"what-is-the-type-of-this",children:"What is the type of this?"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-ts",children:"val sb = StringBuilder()\nwith (sb) {\n  this.appendln(\"Alphabet: \")\n  for (c in 'a'..'z') {\n    this.append(c)\n  }\n}\n"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Answer: ",(0,l.jsx)(n.code,{children:"StringBuilder"})]}),"\n"]}),"\n",(0,l.jsx)(n.h4,{id:"complete-buildstring-definition",children:"Complete buildString definition"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-ts",children:"inline fun buildString(\n  builderAction: StringBuilder.() -> Unit\n): String {\n  val stringBuilder = StringBuilder()\n  ...\n  return stringBuilder.toString()\n}\n"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Answer: ",(0,l.jsx)(n.code,{children:"stringBuilder.builderAction()"})]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"more-useful-library-functions",children:"More useful library functions"}),"\n",(0,l.jsx)(n.h4,{id:"find-the-implementation-of-the-following-function",children:"Find the implementation of the following function:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-ts",children:"inline fun <T, R> T.run(block: T.() -> R): R\n"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Answer: ",(0,l.jsx)(n.code,{children:"{ return this.block() }"})]}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-ts",children:"inline fun <T, R> T.let(block: (T) -> R): R\n"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Answer: ",(0,l.jsx)(n.code,{children:"{ return block(this) }"})]}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-ts",children:"inline fun <T> T.apply(block: T.() -> Unit): T\n"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Answer: ",(0,l.jsx)(n.code,{children:"{ this.block(); return this }"})]}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-ts",children:"inline fun <T> T.also(block: (T) -> Unit): T\n"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Answer: ",(0,l.jsx)(n.code,{children:"{ block(this); return this }"})]}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"types",children:"Types"}),"\n",(0,l.jsx)(n.h4,{id:"what-will-be-printed",children:"What will be printed?"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-ts",children:"println(arrayOf(1, 2) == arrayOf(1, 2));\n"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Answer: false"}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"prefer-lists",children:"Prefer Lists"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Use lists instead of arrays"}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"kotlin-type-hierarchy",children:"Kotlin type hierarchy"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"Unit"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"Nothing"})}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"unit-instead-of-void",children:"Unit instead of void"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Use ",(0,l.jsx)(n.code,{children:"Unit"})," instead of ",(0,l.jsx)(n.code,{children:"void"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"No meaningful value is returned."}),"\n",(0,l.jsx)(n.li,{children:"Thus, it is a type that allows only one value and thus can hold no information."}),"\n",(0,l.jsx)(n.li,{children:"The function completes successfully"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"nothing",children:"Nothing"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"Nothing"})," means this function never returns, so it is different from Unit and void.","\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"returns nothing and you could throw and Exception"}),"\n",(0,l.jsx)(n.li,{children:"Thus, it is a type that has no values"}),"\n",(0,l.jsx)(n.li,{children:"The function never completes"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.h4,{id:"which-of-the-following-expressions-have-nothing-type",children:"Which of the following expressions have Nothing type?"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Answer:","\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"throw IllegalStateException()"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"return"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:'TODO("Needs to be done")'})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.h4,{id:"write-the-simplest-expression-of-nothing-type",children:"Write the simplest expression of Nothing? type"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Answer: ",(0,l.jsx)(n.code,{children:"null"})]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"nullable-types",children:"Nullable Types"}),"\n",(0,l.jsx)(n.h4,{id:"what-happens-while-running-the-code-below",children:"What happens while running the code below?"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-ts",children:"// Java\npublic class Session {\n  public String getDescription() {\n    return null;\n  }\n}\n"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-ts",children:"val session = Session()\nval description = session.description\nprintln(description.length)\n"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Answer: ",(0,l.jsx)(n.code,{children:"NullPointerException is thrown"})]}),"\n"]}),"\n",(0,l.jsx)(n.h4,{id:"what-happens-while-running-the-code-below-1",children:"What happens while running the code below?"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-ts",children:"// Java\npublic class Session {\n  @Nullable\n  String getDescription() {\n    return null;\n  }\n}\n"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-ts",children:"val session = Session()\nval description = session.description\nprintln(description.length)\n"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Answer: ",(0,l.jsx)(n.code,{children:"compilation error"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"You cannot reference description which is a nullable String."}),"\n",(0,l.jsxs)(n.li,{children:["Need to do ",(0,l.jsx)(n.code,{children:"description?.length"})]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.h4,{id:"what-happens-while-running-the-code-below-2",children:"What happens while running the code below?"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-ts",children:"// Java\npublic class Session {\n  String getDescription() {\n    return null;\n  }\n}\n"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-ts",children:"val session = Session()\nval description: String? = session.description\nprintln(description?.length)\n"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Answer: ",(0,l.jsx)(n.code,{children:"null"})," is printed"]}),"\n"]}),"\n",(0,l.jsx)(n.h4,{id:"what-happens-while-running-the-code-below-3",children:"What happens while running the code below?"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-ts",children:"// Java\npublic class Session {\n  String getDescription() {\n    return null;\n  }\n}\n"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-ts",children:"val session = Session()\nval description: String = session.description\nprintln(description.length)\n"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Answer: IllegalStateException is thrown","\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Thus, it is advantageous for debugging purposes to explicitly define types to see what caused errors."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"collection-types",children:"Collection Types"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"read-only does not mean immutable"}),"\n"]}),"\n",(0,l.jsx)(n.h4,{id:"what-happens-when-running-the-following-code",children:"What happens when running the following code?"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-ts",children:"val mutableList = mutableListOf(1, 2, 3)  //#1\nval list: List<Int> = mutableList         //#2\nmutableList.add(4)                        //#3\nprintln(list)                             //#4\n"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Answer: [1, 2, 3, 4] is printed"}),"\n"]})]})}function d(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(h,{...e})}):h(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>r,x:()=>a});var l=i(6540);const t={},s=l.createContext(t);function r(e){const n=l.useContext(s);return l.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:r(e.components),l.createElement(s.Provider,{value:n},e.children)}}}]);